<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link
      href="/webjars/bootstrap/5.1.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      rel="icon"
      th:href="'data:image/png;base64,' + ${company.logo}"
      type="image/png"
    />
    <title>Edit Employee editEmployeeModel</title>
  </head>
  <body>
    <div class="bg-white">
      <div class="shadow-m w-50 rounded-3 p-4 border mx-auto">
        <h2 class="text-center pb-3">Modifier la fiche de paye</h2>

        <form
          class="mx-2"
          th:action="@{/employees/payslip/edit/__${id}__}"
          th:object="${editEmployeeModel}"
          enctype="multipart/form-data"
          method="post"
        >
          <input type="hidden" name="_method" value="PUT" />

          <input
            type="hidden"
            name="serialNumber"
            th:value="${editEmployeeModel.serialNumber}"
          />
          <input
            type="hidden"
            name="firstName"
            th:value="${editEmployeeModel.firstName}"
          />
          <input
            type="hidden"
            name="lastName"
            th:value="${editEmployeeModel.lastName}"
          />
          <input
            type="hidden"
            name="birthdate"
            th:value="${editEmployeeModel.birthdate}"
          />
          <input
            type="hidden"
            name="gender"
            th:value="${editEmployeeModel.gender}"
          />
          <input
            type="hidden"
            name="phoneNumbers"
            th:value="${editEmployeeModel.phoneNumbers}"
          />
          <input
            type="hidden"
            name="address"
            th:value="${editEmployeeModel.address}"
          />
          <input
            type="hidden"
            name="personalEmail"
            th:value="${editEmployeeModel.personalEmail}"
          />
          <input
            type="hidden"
            name="professionalEmail"
            th:value="${editEmployeeModel.professionalEmail}"
          />
          <input
            type="hidden"
            name="cinNumber"
            th:value="${editEmployeeModel.cinNumber}"
          />
          <input
            type="hidden"
            name="cinIssuanceDate"
            th:value="${editEmployeeModel.cinIssuanceDate}"
          />
          <input
            type="hidden"
            name="cinIssuancePlace"
            th:value="${editEmployeeModel.cinIssuancePlace}"
          />
          <input
            type="hidden"
            name="position"
            th:value="${editEmployeeModel.position}"
          />
          <input
            type="hidden"
            name="dependentChildren"
            th:value="${editEmployeeModel.dependentChildren}"
          />
          <input
            type="hidden"
            name="hireDate"
            th:value="${editEmployeeModel.hireDate}"
          />
          <input
            type="hidden"
            name="departureDate"
            th:value="${editEmployeeModel.departureDate}"
          />
          <input
            type="hidden"
            name="photo"
            th:value="${editEmployeeModel.photo}"
          />

          <input
            disabled
            class="form-control bg-light"
            type="hidden"
            th:field="*{id}"
            id="id"
            name="id"
          />

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="serialNumber"
              >Numéro matricule</label
            >
            <div class="col-sm-10">
              <input
                disabled
                class="form-control"
                type="text"
                th:field="*{serialNumber}"
                id="serialNumber"
                name="serialNumber"
              />
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="salary">Salaire</label>
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{salary}"
                id="salary"
                name="salary"
                th:classappend="${#fields.hasErrors('salary')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('salary')}"
                th:errors="*{salary}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="benefits"
              >Bénéfices</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{benefits}"
                id="benefits"
                name="benefits"
                th:classappend="${#fields.hasErrors('benefits')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('benefits')}"
                th:errors="*{benefits}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="allowances"
              >Indemnités</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{allowances}"
                id="allowances"
                name="allowances"
                th:classappend="${#fields.hasErrors('allowances')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('allowances')}"
                th:errors="*{allowances}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label
              class="col-sm-2 col-form-label"
              for="socialSecurityContributions"
              >Cotisations de sécurite sociale</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{socialSecurityContributions}"
                id="socialSecurityContributions"
                name="socialSecurityContributions"
                th:classappend="${#fields.hasErrors('socialSecurityContributions')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('socialSecurityContributions')}"
                th:errors="*{socialSecurityContributions}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="taxableIncome"
              >Revenu imposable</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{taxableIncome}"
                id="taxableIncome"
                name="taxableIncome"
                th:classappend="${#fields.hasErrors('taxableIncome')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('taxableIncome')}"
                th:errors="*{taxableIncome}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="taxRate"
              >Taux d'imposition</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{taxRate}"
                id="taxRate"
                name="taxRate"
                th:classappend="${#fields.hasErrors('taxRate')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('taxRate')}"
                th:errors="*{taxRate}"
              ></span>
            </div>
          </div>

          <div class="row mb-3 align-items-center">
            <label class="col-sm-2 col-form-label" for="netIncome"
              >Revenu net</label
            >
            <div class="col-sm-10">
              <input
                class="form-control bg-light"
                type="number"
                th:field="*{netIncome}"
                id="netIncome"
                name="netIncome"
                th:classappend="${#fields.hasErrors('netIncome')} ? 'is-invalid' : ''"
              />
              <span
                class="invalid-feedback"
                th:if="${#fields.hasErrors('netIncome')}"
                th:errors="*{netIncome}"
              ></span>
            </div>
          </div>

          <div class="row justify-content-around p-3">
            <div class="col-4">
              <button type="submit" class="btn btn-success w-100 p-2">
                Modifier
              </button>
            </div>
            <div class="col-4">
              <button type="button" class="btn btn-secondary w-100 p-2">
                <a class="text-light text-decoration-none" href="/employees"
                  >Annuler</a
                >
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <script src="/webjars/bootstrap/5.1.0/js/bootstrap.min.js"></script>
  </body>
</html>
